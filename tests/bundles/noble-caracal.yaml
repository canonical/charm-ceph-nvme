series: &series noble

machines:
  '1':
    constraints: virt-type=virtual-machine mem=6G cores=2
  '2':
    constraints: virt-type=virtual-machine mem=6G cores=2

applications:
  microceph:
    charm: ch:microceph
    num_units: 3
    channel: latest/edge
    options:
      snap-channel: reef/stable
    series: jammy

  ceph-nvme:
    charm: ../../ceph-nvme.charm
    num_units: 2
    options:
      nr-hugepages: 0
    to:
      - '1'
      - '2'

relations:
  - - 'microceph'
    - 'ceph-nvme'
